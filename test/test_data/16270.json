{
  "url": "https://api.github.com/repos/ziglang/zig/issues/16270",
  "repository_url": "https://api.github.com/repos/ziglang/zig",
  "labels_url": "https://api.github.com/repos/ziglang/zig/issues/16270/labels{/name}",
  "comments_url": "https://api.github.com/repos/ziglang/zig/issues/16270/comments",
  "events_url": "https://api.github.com/repos/ziglang/zig/issues/16270/events",
  "html_url": "https://github.com/ziglang/zig/issues/16270",
  "id": 1781601957,
  "node_id": "I_kwDOAmaRMs5qMRal",
  "number": 16270,
  "title": "make the main zig executable no longer depend on LLVM, LLD, and Clang libraries",
  "user": {
    "login": "andrewrk",
    "id": 106511,
    "node_id": "MDQ6VXNlcjEwNjUxMQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/106511?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/andrewrk",
    "html_url": "https://github.com/andrewrk",
    "followers_url": "https://api.github.com/users/andrewrk/followers",
    "following_url": "https://api.github.com/users/andrewrk/following{/other_user}",
    "gists_url": "https://api.github.com/users/andrewrk/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/andrewrk/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/andrewrk/subscriptions",
    "organizations_url": "https://api.github.com/users/andrewrk/orgs",
    "repos_url": "https://api.github.com/users/andrewrk/repos",
    "events_url": "https://api.github.com/users/andrewrk/events{/privacy}",
    "received_events_url": "https://api.github.com/users/andrewrk/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 693800736,
      "node_id": "MDU6TGFiZWw2OTM4MDA3MzY=",
      "url": "https://api.github.com/repos/ziglang/zig/labels/proposal",
      "name": "proposal",
      "color": "aaefdc",
      "default": false,
      "description": "This issue suggests modifications. If it also has the \"accepted\" label then it is planned."
    },
    {
      "id": 693801403,
      "node_id": "MDU6TGFiZWw2OTM4MDE0MDM=",
      "url": "https://api.github.com/repos/ziglang/zig/labels/accepted",
      "name": "accepted",
      "color": "0efa16",
      "default": false,
      "description": "This proposal is planned."
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": {
    "url": "https://api.github.com/repos/ziglang/zig/milestones/2",
    "html_url": "https://github.com/ziglang/zig/milestone/2",
    "labels_url": "https://api.github.com/repos/ziglang/zig/milestones/2/labels",
    "id": 1877462,
    "node_id": "MDk6TWlsZXN0b25lMTg3NzQ2Mg==",
    "number": 2,
    "title": "1.0.0",
    "description": "Resolve or postpone these issues before releasing 1.0.0.",
    "creator": {
      "login": "andrewrk",
      "id": 106511,
      "node_id": "MDQ6VXNlcjEwNjUxMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/106511?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/andrewrk",
      "html_url": "https://github.com/andrewrk",
      "followers_url": "https://api.github.com/users/andrewrk/followers",
      "following_url": "https://api.github.com/users/andrewrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/andrewrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/andrewrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/andrewrk/subscriptions",
      "organizations_url": "https://api.github.com/users/andrewrk/orgs",
      "repos_url": "https://api.github.com/users/andrewrk/repos",
      "events_url": "https://api.github.com/users/andrewrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/andrewrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 57,
    "closed_issues": 0,
    "state": "open",
    "created_at": "2016-07-12T02:26:41Z",
    "updated_at": "2023-08-31T16:54:04Z",
    "due_on": null,
    "closed_at": null
  },
  "comments": 157,
  "created_at": "2023-06-29T22:41:39Z",
  "updated_at": "2023-08-22T19:56:03Z",
  "closed_at": null,
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "This issue is to fully eliminate LLVM, Clang, and LLD *libraries* from the Zig project. The remaining ties to these projects are as follows:\r\n * [ ] LLD\r\n   * [x] Mach-O (maintained by @kubkon)\r\n   * [ ] ELF ([work in progress](https://github.com/kubkon/zld/) by @kubkon)\r\n   * [ ] COFF/PE\r\n   * [ ] WebAssembly (work in progress by @Luukdegram)\r\n * [ ] LLVM\r\n   * [ ] #13265\r\n   * [x] C backend - 1664/1694 tests passing (98%) (@jacobly0 et al.)\r\n   * [ ] x86 backend - 1486/1694 tests passing (88%) (@jacobly0, @kubkon, et al.)\r\n   * [ ] wasm backend - 1439/1669 tests passing (86%) (@Luukdegram)\r\n   * [ ] aarch64 backend\r\n   * [ ] ~optimization passes~ not actually a prerequisite for this proposal. The clang package mentioned below will be able to provide LLVM optimizations as well.\r\n * [ ] Clang\r\n   * [ ] ~#16268~ not actually a prerequisite for this proposal\r\n   * [ ] ~#16269~ not actually a prerequisite for this proposal\r\n   * [x] C++ source files in zig's repository are built by clang when bootstrapping\r\n     * [x] #15657\r\n   * [ ] compiling assembly files\r\n   * [ ] Compiling C++, Objective-C, Objective-C++, etc. files. Solve with a clang package that can be depended on via the zig build system.\r\n   * [ ] `zig cc` / `zig c++`.  Solve with an independent package that serves the exact same use case.\r\n  * [ ] #9828\r\n\r\nNote that there would still be an LLVM backend for outputting `.bc` files (#13265), but the Zig compiler would lack the capability to compile .bc files into object files. LLVM or Clang would need to be installed and invoked separately for that use case.\r\n\r\nIn exchange, Zig gains these benefits:\r\n * All our bugs are belong to us.\r\n * The compiler becomes trivial to build from source and to bootstrap with only a C compiler on the host system.\r\n * We stop dealing with annoying problems introduced by Linux distributions and package managers such as Homebrew related to LLVM, Clang, and LLD. There have been and continue to be [many](https://github.com/ziglang/zig/issues?q=is%3Aissue+homebrew+).\r\n * The Zig compiler binary goes from about 150 MiB to 5 MiB.\r\n * Compilation speed is increased by orders of magnitude.\r\n * We can implement our own optimization passes that push the state of the art of computing forward.\r\n * We can attract research projects such as [alive2](https://github.com/AliveToolkit/alive2)\r\n * We can attract direct contributions from Intel, ARM, RISC-V chip manufacturers, etc., who have a vested interest in making our machine code better on their CPUs.\r\n\r\nPlease read my other comments in this issue before replying:\r\n * https://github.com/ziglang/zig/issues/16270#issuecomment-1615388680\r\n * https://github.com/ziglang/zig/issues/16270#issuecomment-1616115039",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ziglang/zig/issues/16270/reactions",
    "total_count": 1276,
    "+1": 628,
    "-1": 155,
    "laugh": 59,
    "hooray": 53,
    "confused": 63,
    "heart": 109,
    "rocket": 107,
    "eyes": 102
  },
  "timeline_url": "https://api.github.com/repos/ziglang/zig/issues/16270/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
